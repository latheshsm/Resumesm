<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LATHESH S M — Responsive Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#071029; --bg2:#0b1228;
    --accent1:#64d3ff; --accent2:#b56bff; --accent3:#00ffa3;
    --fg:#e8f1ff; --muted:#9fb0d0; --card-bg: rgba(255,255,255,0.02);

    /* brand colors */
    --gh:#ffffff;   /* GitHub on dark */
    --gm:#D44638;   /* Gmail */
    --wa:#25D366;   /* WhatsApp */
    --li:#0077B5;   /* LinkedIn */
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;color:var(--fg);-webkit-font-smoothing:antialiased}
  body{
    min-height:100vh;
    background:
      radial-gradient(600px 400px at 10% 10%, rgba(100,211,255,0.06), transparent 20%),
      radial-gradient(600px 400px at 90% 90%, rgba(181,107,255,0.05), transparent 18%),
      linear-gradient(180deg,var(--bg1),var(--bg2));
    display:flex;align-items:center;justify-content:center;padding:28px;overflow-x:hidden;
  }

  /* decorative plate behind card */
  .plate{
    position:absolute;
    width:820px; max-width:95vw;
    height:520px; border-radius:28px;
    background: linear-gradient(135deg, rgba(100,211,255,0.06), rgba(181,107,255,0.04));
    filter: blur(36px);
    z-index:1; transform: translateY(18px);
    box-shadow: 0 40px 140px rgba(2,6,23,0.6);
    pointer-events:none;
  }
  @media (max-width:720px){ .plate{ height:480px; transform: translateY(36px) scale(.98) } }

  /* stage/card */
  .stage{
    width:760px; max-width:96vw; border-radius:18px; padding:36px; position:relative; z-index:10;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:2px solid transparent;
    box-shadow: 0 30px 80px rgba(2,6,23,0.6);
    display:flex;flex-direction:column;align-items:center; gap:18px;
    /* visible gradient border using pseudo-element (see CSS below) */
  }

  /* Gradient border via pseudo-element */
  .stage::before{
    content:''; position:absolute; inset:-2px; border-radius:20px; z-index:-1;
    background: linear-gradient(90deg, rgba(100,211,255,0.25), rgba(181,107,255,0.20));
    filter: blur(6px); opacity:0.95;
  }
  .stage::after{
    content:''; position:absolute; inset:0; border-radius:18px; z-index:-1;
    background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.02));
    pointer-events:none;
  }

  /* fixed menu container (moved outside box, top-right) */
  .fixed-menu{
    position:fixed; top:18px; right:18px; display:flex; gap:10px; align-items:center; z-index:60;
  }
  .menu-btn{
    background:transparent;border:1px solid rgba(255,255,255,0.06); padding:8px 12px;border-radius:10px;color:var(--fg);cursor:pointer;
    font-weight:700; font-family:Poppins; transition:transform .18s, box-shadow .18s, background .18s;
  }
  .menu-btn:hover{transform:translateY(-4px); box-shadow:0 16px 36px rgba(2,6,23,0.45); background: linear-gradient(90deg,var(--accent1), rgba(181,107,255,0.06));}
  .menu-btn[aria-pressed="true"]{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#061022; box-shadow:0 20px 48px rgba(100,211,255,0.12);}

  /* hamburger for small screens */
  .hamburger{
    display:none; width:46px;height:46px;border-radius:10px;border:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.01);
    align-items:center; justify-content:center; cursor:pointer;
  }
  .hamburger .bar{ width:20px; height:2px; background:var(--fg); display:block; position:relative }
  .hamburger .bar::before, .hamburger .bar::after{ content:''; position:absolute; left:0; right:0; height:2px; background:var(--fg); }
  .hamburger .bar::before{ top:-6px } .hamburger .bar::after{ top:6px }

  /* portrait */
  .portrait{ position:relative; width:220px; height:220px; border-radius:34px; display:grid; place-items:center; overflow:visible; }
  .ring{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:240px; height:240px; border-radius:20px;
         filter:blur(22px); opacity:0.55; background: conic-gradient(from 0deg, var(--accent1), var(--accent2), var(--accent3)); mix-blend-mode:screen;}
  .frame{ width:200px; height:200px; border-radius:28px; overflow:hidden; border:2px solid rgba(255,255,255,0.06); backdrop-filter: blur(6px); }
  .frame img{ width:100%; height:100%; object-fit:cover; display:block; transform:scale(1.02); transition:transform .85s cubic-bezier(.2,.9,.2,1);
              animation: hueCycle 5s linear infinite; will-change: filter; }
  .portrait:hover .frame img{ transform:scale(1.08) rotate(-1.2deg); }

  @keyframes hueCycle { 0%{filter:hue-rotate(0deg)} 100%{filter:hue-rotate(360deg)} }

  .initials{ position:absolute; right:-6px; bottom:-6px; background:linear-gradient(90deg,var(--accent1),var(--accent2)); padding:8px 10px; border-radius:12px;
             font-weight:800; color:#061022; font-family:Poppins; box-shadow:0 6px 18px rgba(0,0,0,0.45) }

  .name{ font-family:Poppins; font-weight:800; font-size:26px; letter-spacing:0.2px; text-align:center }
  .sub{ color:var(--muted); font-weight:600; text-align:center; margin-top:6px }

  /* action icons (visible on all sizes - stay under photo) */
  .actions{ display:flex; gap:14px; margin-top:6px; justify-content:center; }
  .icon-btn{ display:inline-grid; place-items:center; width:56px; height:56px; border-radius:12px; background: rgba(255,255,255,0.02);
             border:1px solid rgba(255,255,255,0.04); cursor:pointer; transition:transform .18s, box-shadow .18s; position:relative; overflow:hidden; color:var(--fg); }
  .icon-btn:hover{ transform:translateY(-6px); box-shadow:0 22px 44px rgba(2,6,23,0.5) }
  .icon{ width:22px; height:22px; display:block; color:currentColor }
  .icon-btn:focus{ outline:3px solid rgba(100,211,255,0.14) }

  /* brand color classes (use currentColor for SVG stroke) */
  .gh { color:var(--gh); }   /* GitHub */
  .gm { color:var(--gm); }   /* Gmail */
  .wa { color:var(--wa); }   /* WhatsApp */
  .li { color:var(--li); }   /* LinkedIn */

  /* hover fills (brand) + icon becomes appropriate contrast */
  .icon-btn.gh:hover{ color:#061022; background: linear-gradient(90deg,#f7fbff, #d9f7ff); }
  .icon-btn.gm:hover{ color:#fff; background: linear-gradient(90deg, #ffd0cc, var(--gm)); }
  .icon-btn.wa:hover{ color:#fff; background: linear-gradient(90deg, #c6fbd8, var(--wa)); }
  .icon-btn.li:hover{ color:#fff; background: linear-gradient(90deg, #bfe3fb, var(--li)); }

  .ripple{ position:absolute; border-radius:50%; transform:scale(0); animation:ripple .6s linear; opacity:0.35; background: linear-gradient(90deg,var(--accent1),var(--accent2)); pointer-events:none; }
  @keyframes ripple{ to{ transform:scale(8); opacity:0 } }

  /* panel: visible colorful border + rounded corners and slight tint */
  .panel{
    width:100%; max-width:680px; min-height:96px; border-radius:14px; padding:16px;
    background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.02));
    border:2px solid rgba(181,107,255,0.22); color:var(--muted);
    transform-origin:top center; transition: transform .28s cubic-bezier(.2,.9,.2,1), opacity .22s; opacity:0; transform:translateY(-8px) scale(.995); display:none;
    box-shadow: 0 12px 36px rgba(0,0,0,0.45);
  }
  .panel.is-open{ display:block; opacity:1; transform:translateY(0) scale(1); }
  .panel h3{ margin:0 0 8px 0; color:var(--fg); font-family:Poppins; font-weight:700 }
  .skills-list{ display:flex; gap:10px; flex-wrap:wrap }
  .skill-pill{ padding:8px 12px; border-radius:999px; background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); font-weight:700; color:var(--fg) }

  /* download CTA */
  .download{ display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:12px; background:linear-gradient(90deg,var(--accent1),var(--accent2));
             color:#061022; font-weight:800; border:none; cursor:pointer; font-family:Poppins; transition:transform .14s, box-shadow .14s; }
  .download:hover{ transform:translateY(-6px); box-shadow:0 28px 60px rgba(100,211,255,0.12) }

  /* entrance */
  .stage{ opacity:0; transform:translateY(8px); transition: opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1) }
  .stage.visible{ opacity:1; transform:none }

  /* mobile overlay for hamburger: only show About & Skills (no icons) */
  .mobile-overlay{
    position:fixed; right:14px; top:72px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.06);
    padding:12px; border-radius:12px; box-shadow:0 16px 40px rgba(2,6,23,0.6); display:none; z-index:80;
  }
  .mobile-overlay.open{ display:flex; flex-direction:column; gap:10px; align-items:center }

  /* fixed footer copyright (outside card) */
  .page-footer{ position:fixed; left:0; right:0; bottom:12px; display:flex; align-items:center; justify-content:center; pointer-events:none }
  .page-footer .text{ color:var(--muted); font-size:13px; pointer-events:auto; padding:6px 10px; border-radius:8px; background:rgba(0,0,0,0.12) }

  /* barcode area (separate and lower on page; not attached to card) */
  .barcode-wrap{
    width:100%; max-width:760px; margin:36px auto 14px; display:flex; flex-direction:column; align-items:center; gap:8px; z-index:5;
    pointer-events:auto;
  }
  .barcode{
    width:320px; max-width:92vw; height:86px; border-radius:8px; display:flex; align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
    border:1px solid rgba(255,255,255,0.04); position:relative; overflow:hidden;
    box-shadow: 0 18px 40px rgba(2,6,23,0.45);
  }
  /* stylized bars container */
  .barcode .bars{ display:flex; align-items:flex-end; height:86px; gap:2px; padding:6px 8px; z-index:2; width:100%; box-sizing:border-box }
  .barcode .bars .bar{ width:6px; background:#071022; display:inline-block; border-radius:2px; opacity:0.95; transform-origin:bottom center; }
  /* scanning highlight - moving gradient */
  .barcode::before{
    content:''; position:absolute; left:-40%; top:0; width:40%; height:100%; z-index:3;
    background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.12), rgba(255,255,255,0.02));
    transform: skewX(-15deg);
    animation: scan 2.4s linear infinite;
    pointer-events:none;
    mix-blend-mode:screen;
  }
  @keyframes scan{ 0%{ left:-40% } 100%{ left:140% } }

  /* bars pulse to give life */
  .barcode .bars .bar { animation: pulse 1.6s ease-in-out infinite; }
  .barcode .bars .bar:nth-child(odd){ animation-duration:1.4s }
  .barcode .bars .bar:nth-child(3n){ animation-duration:1.9s }
  @keyframes pulse{ 0%,100%{ transform: scaleY(0.9) } 50%{ transform: scaleY(1) } }

  /* pause animation on hover/tap so barcode can be scanned */
  .barcode:hover::before, .barcode:active::before { animation-play-state:paused; }
  .barcode:hover .bars .bar, .barcode:active .bars .bar { animation-play-state:paused; }

  .barcode-text{ color:var(--muted); font-weight:700; font-family:Poppins; font-size:13px; letter-spacing:1px }

  /* responsive adjustments */
  @media (max-width:720px){
    .stage{ width:92vw; padding:22px; gap:14px }
    /* icons remain visible on all sizes (user requested) */
    .fixed-menu{ gap:8px }
    .fixed-menu .menu-btn{ display:none } /* hide desktop menu buttons, show hamburger instead */
    .hamburger{ display:flex }
    .mobile-overlay .menu-btn{ display:inline-flex }
    .mobile-overlay{ right:12px; top:64px }
    .barcode-wrap{ margin-top:18px }
  }

  @media (min-width:721px){
    .hamburger{ display:none }
    .mobile-overlay{ display:none !important }
    .fixed-menu{ display:flex }          /* show fixed menu on desktop */
  }
</style>
</head>
<body>

<div class="plate" aria-hidden="true"></div>

<main class="stage" id="stage">

  <!-- portrait -->
  <div class="portrait" aria-hidden="false">
    <div class="ring" aria-hidden="true"></div>
    <div class="frame" tabindex="0" role="img" aria-label="Profile photo">
      <img id="photo" src="https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=500&auto=format&fit=crop" alt="Profile photo of Lathesh">
    </div>
    <div class="initials">LS</div>
  </div>

  <div style="text-align:center;">
    <div class="name">LATHESH S M</div>
    <div class="sub">Full-Stack Developer • React • Node.js • IoT</div>
  </div>

  <!-- action icons (always under the photo) -->
  <div class="actions" role="navigation" aria-label="Contact and links">
    <button class="icon-btn gh" id="btnGit" aria-label="Open GitHub (opens new tab)" title="GitHub">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12c0 4.42 2.87 8.16 6.84 9.49.5.09.68-.22.68-.48 0-.24-.01-.87-.01-1.71-2.78.61-3.37-1.2-3.37-1.2-.45-1.15-1.11-1.46-1.11-1.46-.91-.62.07-.6.07-.6 1 .07 1.53 1.04 1.53 1.04.9 1.53 2.36 1.09 2.94.83.09-.65.35-1.09.63-1.34-2.22-.25-4.56-1.11-4.56-4.93 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.27.1-2.65 0 0 .84-.27 2.75 1.02A9.56 9.56 0 0 1 12 6.8c.85.004 1.71.115 2.5.34 1.9-1.29 2.74-1.02 2.74-1.02.55 1.38.2 2.4.10 2.65.64.7 1.02 1.59 1.02 2.68 0 3.83-2.34 4.67-4.57 4.92.36.31.68.92.68 1.86 0 1.34-.01 2.42-.01 2.75 0 .27.18.58.69.48A10.01 10.01 0 0 0 22 12c0-5.52-4.48-10-10-10z" stroke-width="0.4"/></svg>
    </button>

    <button class="icon-btn gm" id="btnEmail" aria-label="Send email" title="Email">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7.5v9A2.5 2.5 0 0 0 5.5 19h13A2.5 2.5 0 0 0 21 16.5v-9"/><path d="M21 7.5L12 13 3 7.5"/></svg>
    </button>

    <button class="icon-btn wa" id="btnWhats" aria-label="Open WhatsApp chat" title="WhatsApp">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 12.5a8.5 8.5 0 1 1-1.6-4.9L21 21l-4.9-1.6A8.5 8.5 0 0 1 21 12.5z"/><path d="M17.5 15.5c-.2-.1-1.2-.6-1.4-.6s-.4 0-.6.6-.7.6-1 .6a5 5 0 0 1-1.8-.6c-.8-.6-1.3-1.7-1.4-1.8-.1-.2 0-.5 0-.7s-.2-.4-.5-.7c-.3-.4-.3-.7 0-.9s.6-.3.9-.3.6 0 .8.2.2.3.4.3.6-.1 1-.1c.5 0 .9.1 1.3.3.5.3.8.7 1 1.1.2.4.2.8 0 1.1-.1.2-.3.4-.5.4"/></svg>
    </button>

    <button class="icon-btn li" id="btnLinked" aria-label="Open LinkedIn (opens new tab)" title="LinkedIn">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 8a6 6 0 0 1 6 6v6h-4v-6a2 2 0 0 0-4 0v6h-4v-12h4v2"/></svg>
    </button>
  </div>

  <!-- About / Skills panel -->
  <section id="panel" class="panel" aria-live="polite"></section>

  <!-- download CTA -->
  <div style="margin-top:6px; display:flex; flex-direction:column; align-items:center; gap:8px;">
    <button class="download" id="downloadBtn" aria-label="Download resume">⬇ Download Resume</button>
  </div>
</main>

<!-- fixed menu (desktop) and hamburger (mobile) at top-right outside the card -->
<div class="fixed-menu" id="fixedMenu" aria-hidden="false">
  <button class="menu-btn" id="aboutDesktop">About</button>
  <button class="menu-btn" id="skillsDesktop">Skills</button>

  <!-- hamburger (only visible on small screens) -->
  <button class="hamburger" id="hamburger" aria-expanded="false" aria-label="Open menu">
    <span class="bar" aria-hidden="true"></span>
  </button>
</div>

<!-- mobile overlay that shows ONLY menu items (About + Skills) when hamburger toggled -->
<div class="mobile-overlay" id="mobileOverlay" aria-hidden="true">
  <div style="display:flex; gap:8px; flex-direction:column; width:140px;">
    <button class="menu-btn" id="mAbout">About</button>
    <button class="menu-btn" id="mSkills">Skills</button>
  </div>
</div>

<!-- barcode section placed separately near bottom (not attached to card) -->
<div class="barcode-wrap" aria-hidden="false">
  <div class="barcode" id="barcode" role="img" aria-label="Barcode for USN 4MC24CS410">
    <div class="bars" id="bars" aria-hidden="true">
      <!-- bars will be created by JS to give a barcode-like pattern -->
    </div>
  </div>
  <div class="barcode-text">USN: <strong>4MC24CS410</strong></div>
</div>

<!-- fixed footer copyright (outside page area) -->
<div class="page-footer" aria-hidden="false">
  <div class="text">© <span id="year"></span> LATHESH S M</div>
</div>

<script>
  // CONFIG - replace these with your real details (if needed)
  const GITHUB_URL = 'https://github.com/latheshsm';
  const EMAIL_ADDR = 'latheshsm@email.com';
  const WHATSAPP_NUMBER = '91XXXXXXXXX';
  const LINKEDIN_URL = 'https://www.linkedin.com/in/yourprofile';

  // set year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Utility to open links safely
  function openSafe(url){ window.open(url, '_blank', 'noopener'); }

  /* -------------------------
     About / Skills panel logic
     ------------------------- */
  const aboutDesktop = document.getElementById('aboutDesktop');
  const skillsDesktop = document.getElementById('skillsDesktop');
  const panel = document.getElementById('panel');

  function openPanel(type){
    if(aboutDesktop) aboutDesktop.setAttribute('aria-pressed', type === 'about' ? 'true' : 'false');
    if(skillsDesktop) skillsDesktop.setAttribute('aria-pressed', type === 'skills' ? 'true' : 'false');

    if(type === 'about'){
      panel.innerHTML = '<h3>About</h3><div>I build delightful, accessible web apps with a focus on performance and clean architecture. I enjoy solving problems and shipping features end-to-end.</div>';
    } else if(type === 'skills'){
      panel.innerHTML = '<h3>Skills</h3><div class="skills-list"><span class="skill-pill">JavaScript</span><span class="skill-pill">React</span><span class="skill-pill">Node.js</span><span class="skill-pill">MongoDB</span><span class="skill-pill">HTML & CSS</span></div>';
    } else {
      panel.innerHTML = '';
    }
    if(type) panel.classList.add('is-open'); else panel.classList.remove('is-open');
  }

  aboutDesktop && aboutDesktop.addEventListener('click', ()=> {
    const cur = aboutDesktop.getAttribute('aria-pressed') === 'true';
    openPanel(cur ? null : 'about');
  });
  skillsDesktop && skillsDesktop.addEventListener('click', ()=> {
    const cur = skillsDesktop.getAttribute('aria-pressed') === 'true';
    openPanel(cur ? null : 'skills');
  });

  // mobile menu handlers (hamburger only shows About/Skills)
  const hamburger = document.getElementById('hamburger');
  const mobileOverlay = document.getElementById('mobileOverlay');
  let overlayOpen = false;

  hamburger && hamburger.addEventListener('click', ()=>{
    overlayOpen = !overlayOpen;
    hamburger.setAttribute('aria-expanded', overlayOpen ? 'true' : 'false');
    mobileOverlay.classList.toggle('open', overlayOpen);
  });

  document.getElementById('mAbout')?.addEventListener('click', ()=> { openPanel('about'); overlayOpen=false; mobileOverlay.classList.remove('open'); hamburger.setAttribute('aria-expanded','false'); });
  document.getElementById('mSkills')?.addEventListener('click', ()=> { openPanel('skills'); overlayOpen=false; mobileOverlay.classList.remove('open'); hamburger.setAttribute('aria-expanded','false'); });

  /* -------------------------
     Icon buttons (always under photo)
     ------------------------- */
  function createRipple(e, el){
    const r = document.createElement('span');
    r.className = 'ripple';
    const rect = el.getBoundingClientRect();
    const size = Math.max(rect.width, rect.height) * 1.2;
    r.style.width = r.style.height = size + 'px';
    const cx = e.clientX || (rect.left + rect.width/2);
    const cy = e.clientY || (rect.top + rect.height/2);
    r.style.left = (cx - rect.left - size/2) + 'px';
    r.style.top = (cy - rect.top - size/2) + 'px';
    el.appendChild(r);
    setTimeout(()=> r.remove(),700);
    el.focus();
  }

  const btnGit = document.getElementById('btnGit');
  const btnEmail = document.getElementById('btnEmail');
  const btnWhats = document.getElementById('btnWhats');
  const btnLinked = document.getElementById('btnLinked');

  btnGit && btnGit.addEventListener('click', (e)=> { createRipple(e, btnGit); setTimeout(()=> openSafe(GITHUB_URL), 120); });
  btnEmail && btnEmail.addEventListener('click', (e)=> { createRipple(e, btnEmail); setTimeout(()=> window.location.href = `mailto:${EMAIL_ADDR}`, 120); });
  btnWhats && btnWhats.addEventListener('click', (e)=> { createRipple(e, btnWhats); setTimeout(()=> { const cleaned = (WHATSAPP_NUMBER || '').replace(/\D/g,''); cleaned ? openSafe(`https://wa.me/${cleaned}`) : alert('WhatsApp not configured'); }, 120); });
  btnLinked && btnLinked.addEventListener('click', (e)=> { createRipple(e, btnLinked); setTimeout(()=> openSafe(LINKEDIN_URL), 120); });

  // keyboard activation
  document.querySelectorAll('.icon-btn, .menu-btn, .hamburger, .download').forEach(el=>{
    el.addEventListener('keydown', (ev)=> { if(ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); el.click(); }});
  });

  /* -------------------------
     Download resume (placeholder)
     ------------------------- */
  document.getElementById('downloadBtn').addEventListener('click', (e)=>{
    e.preventDefault();
    const lines = [
      'LATHESH S M',
      'Full-Stack Developer',
      '',
      'Email: ' + (EMAIL_ADDR || 'email@example.com'),
      'Phone: ' + (WHATSAPP_NUMBER || '+91-9XXXXXXXXX'),
      '',
      'Skills: JavaScript, React, Node.js, MongoDB, HTML, CSS'
    ];
    const blob = new Blob([lines.join('\n')], {type: 'text/plain'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = 'Lathesh_SM_Resume.txt'; document.body.appendChild(a); a.click(); a.remove();
    URL.revokeObjectURL(url);
  });

  // photo click opens About as shortcut
  document.querySelector('.frame').addEventListener('click', ()=> {
    if(panel.classList.contains('is-open')) { openPanel(null); return; }
    openPanel('about');
  });

  // entrance
  window.addEventListener('load', ()=> { document.getElementById('stage').classList.add('visible'); });

  /* -------------------------
     Barcode creation & animation (looping)
     ------------------------- */
  // We'll create a stylized barcode made of vertical bars to visually represent the USN.
  // The animation (scan sweep) is CSS-driven and loops. Hovering pauses the motion for scanning.
  (function createBarcode(){
    const barsContainer = document.getElementById('bars');
    if(!barsContainer) return;
    // Pattern heuristic: create a deterministic pattern based on the characters of the USN
    const usn = '4MC24CS410';
    // Convert each char to a numeric seed to get bar height and width variations
    const vals = [];
    for(let i=0;i<usn.length;i++){
      const c = usn.charCodeAt(i);
      vals.push((c % 7) + 1); // numbers 1..7
    }
    // Build a longer pattern by repeating and mixing to get ~36 bars
    const pattern = [];
    for(let r=0; r<5; r++){
      for(let v of vals){
        pattern.push(v + (r % 3)); // some variation
      }
    }
    // clamp width to container (we'll set each bar width accordingly)
    const totalBars = pattern.length;
    // create DOM bars
    pattern.forEach((p, idx) => {
      const el = document.createElement('div');
      el.className = 'bar';
      // base height 28px -> scale to 56..86
      const h = 24 + (p * 8); // 32..80
      el.style.height = `${h}px`;
      // varied width small to large
      const w = 4 + (p % 3); // 4..6
      el.style.width = `${w}px`;
      // slight delay variation for pulse
      el.style.animationDelay = `${(idx % 6) * 0.08}s`;
      barsContainer.appendChild(el);
    });
  })();

</script>
</body>
</html>
